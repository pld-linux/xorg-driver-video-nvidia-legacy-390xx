--- NVIDIA-Linux-x86_64-390.144-no-compat32/kernel/nvidia/os-interface.c~	2021-06-03 01:09:57.000000000 +0200
+++ NVIDIA-Linux-x86_64-390.144-no-compat32/kernel/nvidia/os-interface.c	2021-09-07 21:53:39.925501620 +0200
@@ -580,7 +580,11 @@
         // the requested timeout has expired, loop until less
         // than a jiffie of the desired delay remains.
         //
+#if (LINUX_VERSION_CODE >= KERNEL_VERSION(5, 14, 0))
+        set_current_state(TASK_INTERRUPTIBLE);
+#else
         current->state = TASK_INTERRUPTIBLE;
+#endif
         do
         {
             schedule_timeout(jiffies);
--- NVIDIA-Linux-x86_64-390.144-no-compat32/kernel/nvidia/nvlink_linux.c~	2021-06-03 01:10:01.000000000 +0200
+++ NVIDIA-Linux-x86_64-390.144-no-compat32/kernel/nvidia/nvlink_linux.c	2021-09-07 21:56:33.935565412 +0200
@@ -597,7 +597,11 @@
         // the requested timeout has expired, loop until less
         // than a jiffie of the desired delay remains.
         //
+#if (LINUX_VERSION_CODE >= KERNEL_VERSION(5, 14, 0))
+        set_current_state(TASK_INTERRUPTIBLE);
+#else
         current->state = TASK_INTERRUPTIBLE;
+#endif
         do
         {
             schedule_timeout(jiffies);
--- NVIDIA-Linux-x86_64-390.144-no-compat32/kernel/nvidia-drm/nvidia-drm-drv.c~	2021-06-03 01:10:01.000000000 +0200
+++ NVIDIA-Linux-x86_64-390.144-no-compat32/kernel/nvidia-drm/nvidia-drm-drv.c	2021-09-07 22:06:07.148309829 +0200
@@ -20,6 +20,7 @@
  * DEALINGS IN THE SOFTWARE.
  */
 
+#include "linux/version.h"
 #include "nvidia-drm-conftest.h" /* NV_DRM_AVAILABLE and NV_DRM_DRM_GEM_H_PRESENT */
 
 #include "nvidia-drm-priv.h"
@@ -811,7 +811,9 @@
 
     dev->dev_private = nv_dev;
     nv_dev->dev = dev;
+#if (LINUX_VERSION_CODE < KERNEL_VERSION(5, 14, 0))
     dev->pdev = pdev;
+#endif
 
     /* Register DRM device to DRM sub-system */
 
